![[Pasted image 20251106194708.png]]
过程：线下准备物品id和向量 二元组，存放到向量数据库，用作==最近邻查找==；用户上线后，算出用户向量a，用特征向量来做k近邻查找，找到与a最相似的k个物品；
过程总结：
![[Pasted image 20251106200754.png]]
![[Pasted image 20251106200839.png]]
之后，双塔模型的结果会和 itemCF，userCF的结果融合，作为排序的输入；
![[Pasted image 20251106201110.png]]
==模型更新==
![[Pasted image 20251106201242.png]]
问题：对用户的兴趣 不能做到实时的更新
![[Pasted image 20251106201444.png]]
只训练 用户塔嵌入层神经网络参数，然后发布新的用户嵌入表示；
不将参数应用到模型中；
工业界的做法：
![[Pasted image 20251106201915.png]]
白天一直做增量更新；新的模型更新基于前一天的全量更新模型，而不是增量更新；
![[Pasted image 20251106202106.png]]
[[2双塔模型总结]]
